{"version":3,"sources":["img/logo.png","panels/Home.js","App.js","index.js"],"names":["module","exports","Home","id","fetchedUser","post_on_wall","post_stories","buffer","fetchedData","fetchedBonus","className","src","logo","alt","title","text","time","size","level","onClick","before","photo_200","description","money","med","rubles","first_name","last_name","App","useState","activePanel","setUser","setJsonZap","setJsonBonus","popout","setPopout","Timer","result","a","countDownDate","Date","getTime","x","setInterval","now","distance","hours","Math","floor","minutes","seconds","array","clearInterval","priz","xhr","XMLHttpRequest","url","open","send","useEffect","bridge","user_info","check_notifick","onreadystatechange","readyState","status","JSON","parse","responseText","error","getinfobonus","notific","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","getUsersInfo","ReactDOM","render","getElementById"],"mappings":"6FAAAA,EAAOC,QAAU,IAA0B,kC,6oBCuE5BC,G,OA3DF,SAAC,GAAD,IAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,YAAaC,EAApB,EAAoBA,aAAcC,EAAlC,EAAkCA,aAAcC,EAAhD,EAAgDA,OAAQC,EAAxD,EAAwDA,YAAaC,EAArE,EAAqEA,aAArE,OACZ,kBAAC,IAAD,CAAON,GAAIA,GACV,kBAAC,IAAD,gBAEE,yBAAKO,UAAU,OAAOC,IAAKC,IAAMC,IAAI,+CAEvC,kBAAC,IAAD,CAAOC,MAAM,SACZ,kBAAC,IAAD,CAAKJ,UAAU,cACbD,EAAaM,MAEf,kBAAC,IAAD,CAAKL,UAAU,cACbD,EAAaO,OAIhB,kBAAC,IAAD,CAAOF,MAAM,sBACZ,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAQG,KAAK,KAAKC,MAAM,IAAIC,QAASd,GACnC,yBAAKM,IAAI,yDAAyDD,UAAU,UAD9E,6GAIE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQO,KAAK,KAAKC,MAAM,IAAIC,QAASb,GACnC,yBAAKK,IAAI,yDAAyDD,UAAU,UAD9E,6GAIF,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQO,KAAK,KAAKC,MAAM,IAAIC,QAASZ,GACnC,yBAAKI,IAAI,mDAAmDD,UAAU,UADxE,8GAMHN,GACD,kBAAC,IAAD,CAAOU,MAAM,oCACX,kBAAC,IAAD,CACEM,OAAQhB,EAAYiB,UAAY,kBAAC,IAAD,CAAQV,IAAKP,EAAYiB,YAAe,KAC5EC,YAAa,yCAAad,EAAYe,MAAQ,iBAASf,EAAYgB,IAAM,gBAAQhB,EAAYiB,OAAS,sBAFpG,UAIMrB,EAAYsB,WAJlB,YAIgCtB,EAAYuB,gBCsHnCC,EAlKH,WAAO,IAAD,EACqBC,mBAAS,QAD9B,mBACVC,EADU,aAEcD,mBAAS,SAFvB,mBAEVzB,EAFU,KAEG2B,EAFH,OAGiBF,mBAAS,QAH1B,mBAGVrB,EAHU,KAGGwB,EAHH,OAIoBH,mBAAS,QAJ7B,mBAIVpB,EAJU,KAIIwB,EAJJ,OAKWJ,mBAAS,kBAAC,IAAD,CAAeZ,KAAK,WALxC,mBAKViB,EALU,KAKFC,EALE,cAwGHC,EAxGG,gFAwGlB,WAAqBC,EAAOlC,GAA5B,iBAAAmC,EAAA,sDAEKC,EAAgB,IAAIC,KAAKH,EAAOrB,MAAMyB,UAEtCC,EAAIC,aAAY,WAEnB,IAAIC,GAAM,IAAIJ,MAAOC,UAEjBI,EAAWN,EAAgBK,EAG3BE,GADOC,KAAKC,MAAMH,EAAQ,OAClBE,KAAKC,MAAOH,EAAQ,MAAT,OACnBI,EAAUF,KAAKC,MAAOH,EAAQ,KAAT,KACrBK,EAAUH,KAAKC,MAAOH,EAAQ,IAAkB,KASpD,GAFDZ,EAFIkB,EAAQ,CAACnC,KAHA8B,EAAQ,mCAClBG,EAAU,mCAAYC,EAAU,yCAERnC,KAAM,yGAI5B8B,EAAW,EAAG,CAChBO,cAAcV,GAChB,IAEIS,EAAQ,CAACnC,KAAO,GAAID,KADP,wJADLsB,EAAOgB,MAGfC,EAAM,IAAIC,eACVC,EAAM,oFAAsFrD,EAChGmD,EAAIG,KAAK,MAAMD,GAAI,GACnBF,EAAII,OACJzB,EAAakB,MAEZ,KAjCH,4CAxGkB,sBA2JjB,OApJAQ,qBAAU,WAAM,4CASjB,kCAAArB,EAAA,sEAC2BsB,IAAOF,KAAK,uBADvC,OACSG,EADT,OAEO1D,EAAK0D,EAAU1D,GACnB4B,EAAQ8B,GACR1B,EAAU,MAEVQ,YAAYmB,EAAgB,IAAM3D,GAE9BmD,EAAM,IAAIC,eACVC,EAAM,iFAAmFrD,EAC7FmD,EAAIG,KAAK,MAAMD,GAAI,GACnBF,EAAII,OAEJJ,EAAIS,mBAAqB,WACvB,GAAuB,IAAnBT,EAAIU,YAIU,MAAfV,EAAIW,OAAgB,CACxB,IAAI5B,EAAS6B,KAAKC,MAAMb,EAAIc,cAC5B,GAAqB,MAAjB/B,EAAOgC,MAAe,CAGxBrC,EAFc,CAACT,MAAO,IAAKC,IAAK,IAAKC,OAAQ,MAG7CQ,EAFc,CAAClB,KAAM,geAA2FC,KAAM,UAIvHgB,EAAWK,GACXiC,EAAanE,KA3BlB,6CATiB,+BA2CF2D,EA3CE,8EA2CjB,WAA8B3D,GAA9B,iBAAAmC,EAAA,sDAEKgB,EAAM,IAAIC,eACVC,EAAM,6EAA+ErD,EACzFmD,EAAIG,KAAK,MAAMD,GAAI,GACnBF,EAAII,OAEJJ,EAAIS,mBAAqB,WACxB,GAAuB,IAAnBT,EAAIU,aAIU,MAAfV,EAAIW,QAGS,MAFHC,KAAKC,MAAMb,EAAIc,cACPG,SACA,CAAC,IAENA,EAFK,uCAEpB,WAAuBpE,GAAvB,iBAAAmC,EAAA,sEAC6BsB,IAAOF,KAAK,8BADzC,QAEgC,IAFhC,OAEqBrB,SACdiB,EAAM,IAAIC,eACVC,EAAM,gFAAkFrD,EAC5FmD,EAAIG,KAAK,MAAMD,GAAI,GACnBF,EAAII,OACJN,cAAcU,IAPjB,2CAFoB,sDACpBV,cAAcU,GAWdS,EAAQpE,KA3BX,4CA3CiB,+BA4EFmE,EA5EE,8EA4EjB,WAA4BnE,GAA5B,iBAAAmC,EAAA,sDACMgB,EAAM,IAAIC,eACVC,EAAM,+EAAiFrD,EAC3FmD,EAAIG,KAAK,MAAMD,GAAI,GACnBF,EAAII,OAEJJ,EAAIS,mBAAqB,WACD,IAAnBT,EAAIU,aAIU,MAAfV,EAAIW,QAEP7B,EADa8B,KAAKC,MAAMb,EAAIc,cACfjE,KAbhB,4CA5EiB,sBACfyD,IAAOY,WAAU,YAAgC,IAAD,IAA5BC,OAAUC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,KACnC,GAAa,yBAATD,EAAiC,CACpC,IAAME,EAAkBC,SAASC,gBAAgB,UACjDF,EAAgBG,MAAQJ,EAAKK,OAASL,EAAKK,OAAS,eACpDH,SAASI,KAAKC,WAAWC,aAAaP,OALzB,mCA8FhBQ,KACG,IAsDF,kBAAC,IAAD,CAAMtD,YAAaA,EAAaI,OAAQA,GACvC,kBAAC,EAAD,CAAM/B,GAAG,OAAOC,YAAaA,EAAaC,aAf5C,WACCuD,IAAOF,KAAK,0BAA2B,CAAC,QAAW,gcAA6G,YAAe,+BAcxGpD,aAVxE,WACCsD,IAAOF,KAAK,uBAAwB,CAAE,gBAAoB,QAAS,IAAQ,kCAAmC,WAAc,CAAC,KAAO,OAAS,KAAQ,MAAO,IAAO,8BAShEnD,OANpG,WACCqD,IAAOF,KAAK,mBAAoB,CAAC,KAAQ,mcAK0ElD,YAAaA,EAAaC,aAAcA,MC5J7JmD,IAAOF,KAAK,gBAGZ2B,IAASC,OAAO,kBAAC,EAAD,MAAST,SAASU,eAAe,W","file":"static/js/main.4f7dfe8b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5c10d8f7.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport logo from '../img/logo.png';\nimport './logo.css';\n\nconst Home = ({ id, fetchedUser, post_on_wall, post_stories, buffer, fetchedData, fetchedBonus}) => (\n\t<Panel id={id}>\n\t\t<PanelHeader>BeeGame</PanelHeader>\n\n    <img className=\"logo\" src={logo} alt=\"–õ–æ–≥–æ—Ç–∏–ø\"/>\n\n\t\t<Group title=\"Bonus\">\n\t\t\t<Div className=\"Bonus_text\">\n\t\t\t\t{fetchedBonus.text}\n\t\t\t</Div>\n\t\t\t<Div className=\"Bonus_time\">\n\t\t\t\t{fetchedBonus.time}\n\t\t\t</Div>\n\t\t</Group>\n\n\t\t<Group title=\"Navigation Example\">\n\t\t\t<Div>\n\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={post_on_wall}>\n\t\t\t\t\t <img src=\"https://img.icons8.com/fluent/48/000000/newspaper-.png\" className=\"icons\" />–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –Ω–∞ —Å—Ç–µ–Ω–µ\n\t\t\t\t</Button>\n      </Div>\n      <Div>\n        <Button size=\"xl\" level=\"3\" onClick={post_stories}>\n          <img src=\"https://img.icons8.com/fluent/48/000000/video-call.png\" className=\"icons\" />–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ –°—Ç–æ—Ä–∏—Å\n        </Button>\n      </Div>\n      <Div>\n        <Button size=\"xl\" level=\"4\" onClick={buffer}>\n          <img src=\"https://img.icons8.com/fluent/48/000000/copy.png\" className=\"icons\" /> –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É\n        </Button>\n\t\t\t</Div>\n\t\t</Group>\n\n    {fetchedUser &&\n    <Group title=\"User Data Fetched with VK Bridge\">\n      <Cell\n        before={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n\t\t\t\tdescription={\"–ë–∞–ª–∞–Ω—Å: \" + fetchedData.money + \"üí≤, \" + fetchedData.med + \"üçØ,\" + fetchedData.rubles + \"–†–£–ë\"}\n      >\n        {`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n      </Cell>\n    </Group>}\n\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Home from './panels/Home';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState('home');\n\tconst [fetchedData, setJsonZap] = useState('home');\n\tconst [fetchedBonus, setJsonBonus] = useState('home');\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\nasync function getUsersInfo() {\n\t\t\tconst user_info = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tvar id = user_info.id;\n\t\t\tsetUser(user_info);\n\t\t\tsetPopout(null);\n\n\t\t\tsetInterval(check_notifick, 3000, id);\n\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\tvar url = 'https://neft-game.ru/bot/bin/api.php?key=vk-beeminiap&func=getuserinfo&userid=' + id;\n\t\t\txhr.open('GET',url,true);\n\t\t\txhr.send();\n\n\t\t\txhr.onreadystatechange = function() {\n  \t\t\tif (xhr.readyState !== 4) {\n    \t\t\treturn\n  \t\t}\n\n  \t\tif (xhr.status === 200) {\n\t\t\t\tvar result = JSON.parse(xhr.responseText);\n\t\t\t\tif (result.error === \"0\") {\n\t\t\t\t\t var error_1 = {money: \"0\", med: \"0\", rubles: \"0\"}\n\t\t\t\t\t var error_2 = {text: \"–ß—Ç–æ–±—ã –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –Ω—É–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ —É –±–æ—Ç–∞!\", time: \"\"}\n\t\t\t\t\t setJsonZap(error_1);\n\t\t\t\t\t setJsonBonus(error_2);\n\t\t\t\t} else {\n\t\t\t\t\tsetJsonZap(result);\n\t\t\t\t\tgetinfobonus(id);\n\t\t\t\t}\n  \t\t}\n\n\t\t\t}\n}\n\nasync function check_notifick(id)  {\n\n\tvar xhr = new XMLHttpRequest();\n\tvar url = 'https://neft-game.ru/bot/bin/api.php?key=vk-beeminiap&func=notific&userid=' + id;\n\txhr.open('GET',url,true);\n\txhr.send();\n\n\txhr.onreadystatechange = function() {\n\t\tif (xhr.readyState !== 4) {\n\t\t\treturn\n\t}\n\n\tif (xhr.status === 200) {\n\t\tvar result = JSON.parse(xhr.responseText);\n\t\tvar notific = result.notific;\n\t\tif (notific === \"0\") {\n\t\t\tclearInterval(check_notifick);\n\t\t\tasync function notific(id) {\n\t\t\t\t\tvar result_notific = await bridge.send(\"VKWebAppAllowNotifications\");\n\t\t\t\t\tif (result_notific.result === true){\n\t\t\t\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\t\t\t\tvar url = 'https://neft-game.ru/bot/bin/api.php?key=vk-beeminiap&func=notific_ok&userid=' + id;\n\t\t\t\t\t\txhr.open('GET',url,true);\n\t\t\t\t\t\txhr.send();\n\t\t\t\t\t\tclearInterval(check_notifick);\n\t\t\t\t\t}\n\t\t\t}\n\t\t\tnotific(id);\n\t\t}\n\t}\n}\n}\n\nasync function getinfobonus(id) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\tvar url = 'https://neft-game.ru/bot/bin/api.php?key=vk-beeminiap&func=app_bonus&userid=' + id;\n\t\txhr.open('GET',url,true);\n\t\txhr.send();\n\n\t\txhr.onreadystatechange = function() {\n\t\t\tif (xhr.readyState !== 4) {\n\t\t\t\treturn\n\t\t}\n\n\t\tif (xhr.status === 200) {\n\t\t\tvar result = JSON.parse(xhr.responseText);\n\t\t\tTimer(result,id);\n\t}\n}\n\t}\n\n\tgetUsersInfo();\n\t}, []);\n\nasync function Timer(result,id) {\n\n\tvar countDownDate = new Date(result.time).getTime();\n\n\tvar x = setInterval(function() {\n\n  var now = new Date().getTime();\n\n  var distance = countDownDate - now;\n\n  var days = Math.floor(distance / (1000 * 60 * 60 * 24));\n  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n  var seconds = Math.floor((distance % (1000 * 60)) / 1000);\n\n  var time_ = hours + \" –ß–∞—Å–æ–≤ \"\n  + minutes + \" –ú–∏–Ω—É—Ç \" + seconds + \" –°–µ–∫—É–Ω–¥ \";\n\n\tvar array = {time:  time_, text: \"–î–æ –ë–æ–Ω—É—Å–∞ –û—Å—Ç–∞–ª–æ—Å—å: \"}\n\n\tsetJsonBonus(array);\n\n  if (distance < 0) {\n    clearInterval(x);\n\t\tvar money = result.priz;\n\t\tvar bonus_text = \"–¢—ã –ø–æ–ª—É—á–∏–ª –ë–æ–Ω—É—Å –≤ —Ä–∞–∑–º–µ—Ä–µ üí≤\"  +  money;\n\t\tvar array = {time:  \"\", text: bonus_text}\n\t\tvar xhr = new XMLHttpRequest();\n\t\tvar url = 'https://neft-game.ru/bot/bin/api.php?key=vk-beeminiap&func=app_bonus_give&userid=' + id;\n\t\txhr.open('GET',url,true);\n\t\txhr.send();\n\t\tsetJsonBonus(array);\n  }\n}, 1000);\n\n\n}\n\n\tfunction post_on_wall()  {\n\t\tbridge.send(\"VKWebAppShowWallPostBox\", {\"message\": \"üí∏ü§ë –Ø –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é –≤ BeeGame –∏ –≤—ã–≤–æ–∂—É –¥–µ–Ω—å–≥–∏ –∫—É–¥–∞ —Ö–æ—á—É!üëâ –ü–µ—Ä–µ—Ö–æ–¥–∏ –ø–æ —Å—Å—ã–ª–∫–µ –∏ –ø–æ–ª—É—á–∏ –ë–û–ù–£–°: vk.cc/ayUCkz\", \"attachments\": \"photo-197721915_457239020\"});\n\t}\n\n\n\tfunction post_stories() {\n\t\tbridge.send(\"VKWebAppShowStoryBox\", { \"background_type\" : \"image\", \"url\" : \"https://neft-game.ru/storis.png\", \"attachment\": {\"text\":\"more\" , \"type\": \"url\", \"url\": \"https://vk.com/bee.game\"}});\n\t}\n\n\tfunction buffer() {\n\t\tbridge.send(\"VKWebAppCopyText\", {\"text\": \"üí∏ü§ë –Ø –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é –≤ BeeGame –∏ –≤—ã–≤–æ–∂—É –¥–µ–Ω—å–≥–∏ –∫—É–¥–∞ —Ö–æ—á—É!üëâ –ü–µ—Ä–µ—Ö–æ–¥–∏ –ø–æ —Å—Å—ã–ª–∫–µ –∏ –ø–æ–ª—É—á–∏ –ë–û–ù–£–°: vk.cc/ayUCkz\"});\n\t}\n\n\treturn (\n\t\t<View activePanel={activePanel} popout={popout}>\n\t\t\t<Home id='home' fetchedUser={fetchedUser} post_on_wall={post_on_wall} post_stories={post_stories} buffer={buffer} fetchedData={fetchedData} fetchedBonus={fetchedBonus} />\n\t\t</View>\n\t);\n}\n\nexport default App;\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}